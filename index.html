<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Outcome Documentation</title>
    <link rel="stylesheet" href="ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>Outcome</h1>


<h2>Contents</h2>
<ul>
<li><a href="#Class_Option">Class Option </a></li>
<li><a href="#Class_Result">Class Result </a></li>
<li><a href="#Option_functions">Option functions</a></li>
<li><a href="#Result_functions">Result functions</a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><strong>outcome</strong></li>
</ul>

</div>

<div id="content">

<h1>Module <code>outcome</code></h1>
<p>Outcome: Functional and composable option and result types for Lua.</p>
<p>



<pre>
<span class="keyword">local</span> outcome = <span class="global">require</span> <span class="string">"outcome"</span>
</pre>

</p>


<h2><a href="#Class_Option">Class Option </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Option:isSome">Option:isSome ()</a></td>
	<td class="summary">Returns true if the option contains a value.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Option:isNone">Option:isNone ()</a></td>
	<td class="summary">Returns true if the option value is nil.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Option:ifSome">Option:ifSome (consumer)</a></td>
	<td class="summary">Invokes a method with the value if Some.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Option:ifNone">Option:ifNone (consumer)</a></td>
	<td class="summary">Invokes a method if the option value is None.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Option:unwrap">Option:unwrap ()</a></td>
	<td class="summary">Returns the value if Some, or throws an error.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Option:unwrapOr">Option:unwrapOr (defaultValue)</a></td>
	<td class="summary">Unwraps and returns the value if Some, or returns default value.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Option:unwrapOrElse">Option:unwrapOrElse (valueProvider)</a></td>
	<td class="summary">Unwraps and returns the value if Some, or returns the result of invoking
 a function that when called returns a value.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Option:expect">Option:expect (message)</a></td>
	<td class="summary">Unwraps and returns the value if Some, or raises a specific error.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Option:andOther">Option:andOther (other)</a></td>
	<td class="summary">Returns <code>other</code> if the option value is Some, otherwise returns self.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Option:orOther">Option:orOther (other)</a></td>
	<td class="summary">Returns self if a value is Some, otherwise returns <code>other</code>.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Option:orElseOther">Option:orElseOther (f)</a></td>
	<td class="summary">Returns self if a value is Some, otherwise returns the result of f.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Option:map">Option:map (f)</a></td>
	<td class="summary">Maps an <code>Option&lt;T&gt;</code> to <code>Option&lt;U&gt;</code> by applying a function to the contained
 value.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Option:mapOr">Option:mapOr (defaultValue, f)</a></td>
	<td class="summary">Applies a function to the contained value (if any), or returns a default.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Option:mapOrElse">Option:mapOrElse (defaultProvider, mapFunction)</a></td>
	<td class="summary">Applies a function to the contained value (if any), or computes a default.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Option:flatmap">Option:flatmap (f)</a></td>
	<td class="summary">Returns an None option if the option value is not preset.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Option:filter">Option:filter (f)</a></td>
	<td class="summary">Filters a Some Option through <code>f</code> and if <code>f</code> returns false, creates a
 None Option.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Option:okOr">Option:okOr (err)</a></td>
	<td class="summary">Transforms the <code>Option&lt;T&gt;</code> into a <code>Result&lt;T, E&gt;</code>, mapping a Some value to
 an Ok Result, and an None value to Result err.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Option:okOrElse">Option:okOrElse (errorProvider)</a></td>
	<td class="summary">Transforms the <code>Option&lt;T&gt;</code> into a <code>Result&lt;T, E&gt;</code>, mapping a Some value
 to an Ok Result, and an None value to Result err.</td>
	</tr>
</table>
<h2><a href="#Class_Result">Class Result </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Result:isOk">Result:isOk ()</a></td>
	<td class="summary">Returns true if the result is Ok.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Result:isErr">Result:isErr ()</a></td>
	<td class="summary">Returns true if the result is an error.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Result:ifOk">Result:ifOk (consumer)</a></td>
	<td class="summary">Invokes a method with the value if the Result is Ok.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Result:ifErr">Result:ifErr (consumer)</a></td>
	<td class="summary">Invokes a method if the Result is an Err and passes the error to consumer.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Result:unwrap">Result:unwrap ()</a></td>
	<td class="summary">Returns the value if Ok, or raises an error using the error value.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Result:unwrapErr">Result:unwrapErr ()</a></td>
	<td class="summary">Unwraps a result, yielding the content of an Err.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Result:unwrapOr">Result:unwrapOr (defaultValue)</a></td>
	<td class="summary">Unwraps and returns the value if Ok, or returns default value.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Result:unwrapOrElse">Result:unwrapOrElse (valueProvider)</a></td>
	<td class="summary">Unwraps and returns the value if Ok, or returns the result of invoking
 a method that when called returns a value.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Result:expect">Result:expect (message)</a></td>
	<td class="summary">Unwraps and returns the value if Ok, or errors with a message.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Result:andOther">Result:andOther (other)</a></td>
	<td class="summary">Returns other if the result is Ok, otherwise returns the Err value of self.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Result:orOther">Result:orOther (other)</a></td>
	<td class="summary">Returns other if the result is Err, otherwise returns self.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Result:orElseOther">Result:orElseOther (resultProvider)</a></td>
	<td class="summary">Calls resultProvider if the result is Err, otherwise returns self.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Result:map">Result:map (f)</a></td>
	<td class="summary">Maps a <code>Result&lt;T, E&gt;</code> to <code>Result&lt;U, E&gt;</code> by applying a function to a
 contained Ok value, leaving an Err value untouched.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Result:mapErr">Result:mapErr (f)</a></td>
	<td class="summary">Maps a <code>Result&lt;T, E&gt;</code> to <code>Result&lt;T, F&gt;</code> by applying a function to a
 contained Err value, leaving an Ok value untouched.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Result:flatmap">Result:flatmap (f)</a></td>
	<td class="summary">Calls f if the result is Ok, otherwise returns the Err value of self.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Result:okOption">Result:okOption ()</a></td>
	<td class="summary">Converts from <code>Result&lt;T, E&gt;</code> to <code>Option&lt;T&gt;</code>.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Result:errOption">Result:errOption ()</a></td>
	<td class="summary">Converts from <code>Result&lt;T, E&gt;</code> to <code>Option&lt;E&gt;</code>.</td>
	</tr>
</table>
<h2><a href="#Option_functions">Option functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#option">option (value)</a></td>
	<td class="summary">Returns either a None or Some Option based on if the value == nil.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#some">some (value)</a></td>
	<td class="summary">Create a new Option, wrapping a value.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#none">none ()</a></td>
	<td class="summary">Returns a None Option.</td>
	</tr>
</table>
<h2><a href="#Result_functions">Result functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#ok">ok (value)</a></td>
	<td class="summary">Create a new Ok Result.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#err">err (value)</a></td>
	<td class="summary">Create a new Err Result.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#pcall">pcall (f, Arguments)</a></td>
	<td class="summary">Invokes a function and returns a <code>Result&lt;T, E&gt;</code>.</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header has-description"><a name="Class_Option"></a>Class Option </h2>

          <div class="section-description">

<p>Option type. </p>

<p> The Option class is used as a functional replacement for null. Using Option
 provides a composable mechanism for working with values that may or may not
 be present. This Option implementation is heavily inspired by the Option
 type in Rust, and somewhat by the Optional type in Java.</p>

<p> <strong>Examples</strong></p>

<pre><code>local outcome = require "outcome"

-- Options are either Some or None.
assert(outcome.none():isNone())
assert(outcome.some("foo"):isSome())

-- You can map over the value in an Option.
local result = outcome.some(1)
    :map(function(value) return value + 1 end)
    :unwrap()
assert(result == 2)

-- Raises an error with the message provided in expect.
outcome.none():expect("Expected a value"):

-- You can provide a default value when unwrapping an Option.
assert("foo" == outcome.none():unwrapOr("foo"))
</code></pre>


          </div>
    <dl class="function">
    <dt>
    <a name = "Option:isSome"></a>
    <strong>Option:isSome ()</strong>
    </dt>
    <dd>
    Returns true if the option contains a value.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>



    </ol>




</dd>
    <dt>
    <a name = "Option:isNone"></a>
    <strong>Option:isNone ()</strong>
    </dt>
    <dd>
    Returns true if the option value is nil.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>



    </ol>




</dd>
    <dt>
    <a name = "Option:ifSome"></a>
    <strong>Option:ifSome (consumer)</strong>
    </dt>
    <dd>

<p>Invokes a method with the value if Some. </p>

<pre><code>local opt = outcome.some("abc")
opt:ifSome(function(value) print(value) end)
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">consumer</span>
            <span class="types"><span class="type">function</span></span>
         Consumer to invoke with a side effect.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Option:ifNone"></a>
    <strong>Option:ifNone (consumer)</strong>
    </dt>
    <dd>

<p>Invokes a method if the option value is None. </p>

<pre><code>local opt = outcome.none()
opt:ifNone(function(value) print("It's None!") end)
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">consumer</span>
            <span class="types"><span class="type">function</span></span>
         Method to invoke if the value is None.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Option:unwrap"></a>
    <strong>Option:unwrap ()</strong>
    </dt>
    <dd>
    Returns the value if Some, or throws an error.



    <h3>Returns:</h3>
    <ol>

        T the wrapped option.
    </ol>




</dd>
    <dt>
    <a name = "Option:unwrapOr"></a>
    <strong>Option:unwrapOr (defaultValue)</strong>
    </dt>
    <dd>

<p>Unwraps and returns the value if Some, or returns default value. </p>

<pre><code>local opt = outcome.none()
assert("foo", opt:unwrapOr("foo"))
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">defaultValue</span>
         Default value T to return.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        T returns the wrapped value or the default.
    </ol>




</dd>
    <dt>
    <a name = "Option:unwrapOrElse"></a>
    <strong>Option:unwrapOrElse (valueProvider)</strong>
    </dt>
    <dd>

<p>Unwraps and returns the value if Some, or returns the result of invoking
 a function that when called returns a value. </p>

<pre><code>local opt = outcome.none()
assert("foo", opt:unwrapOrElse(function() return "foo" end))
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">valueProvider</span>
            <span class="types"><span class="type">function</span></span>
         to invoke if the value is None.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        T returns the wrapped value or the value returned from valueProvider.
    </ol>




</dd>
    <dt>
    <a name = "Option:expect"></a>
    <strong>Option:expect (message)</strong>
    </dt>
    <dd>

<p>Unwraps and returns the value if Some, or raises a specific error. </p>

<pre><code>local option = outcome.some("foo")
local value = option:expect("Error message")
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">message</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>
         Message to raise.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        T returns the wrapped value.
    </ol>




</dd>
    <dt>
    <a name = "Option:andOther"></a>
    <strong>Option:andOther (other)</strong>
    </dt>
    <dd>

<p>Returns <code>other</code> if the option value is Some, otherwise returns self. </p>

<pre><code>local optA = outcome.some("abc")
local optB = outcome.some("123")
assert(optB = optA:andOther(optB))
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">other</span>
            <span class="types"><a class="type" href="index.html#Option">Option</a></span>
         Alternative <code>Option&lt;T&gt;</code> to return.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Option">Option</a></span>
        Returns <code>Option&lt;T&gt;</code>
    </ol>




</dd>
    <dt>
    <a name = "Option:orOther"></a>
    <strong>Option:orOther (other)</strong>
    </dt>
    <dd>

<p>Returns self if a value is Some, otherwise returns <code>other</code>. </p>

<pre><code>local optA = outcome.none()
local optB = outcome.some("123")
assert(optB = optA:orOther(optB))
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">other</span>
            <span class="types"><a class="type" href="index.html#Option">Option</a></span>
         Alternative <code>Option&lt;T&gt;</code> to return.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Option">Option</a></span>
        Returns <code>Option&lt;T&gt;</code>
    </ol>




</dd>
    <dt>
    <a name = "Option:orElseOther"></a>
    <strong>Option:orElseOther (f)</strong>
    </dt>
    <dd>

<p>Returns self if a value is Some, otherwise returns the result of f. </p>

<pre><code>local optA = outcome.none()
local optB = optA:orElseOther(function()
  return outcome.some("123")
end)
assert(optB:unwrap() == "123")
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">f</span>
            <span class="types"><span class="type">function</span></span>
         Function that returns an <code>Option&lt;T&gt;</code>.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Option">Option</a></span>
        Returns <code>Option&lt;T&gt;</code>
    </ol>




</dd>
    <dt>
    <a name = "Option:map"></a>
    <strong>Option:map (f)</strong>
    </dt>
    <dd>

<p>Maps an <code>Option&lt;T&gt;</code> to <code>Option&lt;U&gt;</code> by applying a function to the contained
 value. </p>

<pre><code>local value outcome.some(1)
    :map(function(value) return value + 1 end)
    :unwrap()

assert(value == 2)
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">f</span>
            <span class="types"><span class="type">function</span></span>
         Function that accepts T and returns U.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Option">Option</a></span>
        Returns <code>Option&lt;U&gt;</code>
    </ol>




</dd>
    <dt>
    <a name = "Option:mapOr"></a>
    <strong>Option:mapOr (defaultValue, f)</strong>
    </dt>
    <dd>

<p>Applies a function to the contained value (if any), or returns a default. </p>

<pre><code>local value outcome.some("foo")
    :mapOr("baz", function(value) return value .. " test" end)
    :unwrap()

assert(value == "foo test")

value outcome.none()
    :mapOr("baz", function(value) return value .. " test" end)
    :unwrap()

assert(value == "baz")
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">defaultValue</span>
         Value U to return if the option is None.
        </li>
        <li><span class="parameter">f</span>
            <span class="types"><span class="type">function</span></span>
         Function that accepts T and returns U.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Option">Option</a></span>
        Returns <code>Option&lt;U&gt;</code>
    </ol>




</dd>
    <dt>
    <a name = "Option:mapOrElse"></a>
    <strong>Option:mapOrElse (defaultProvider, mapFunction)</strong>
    </dt>
    <dd>

<p>Applies a function to the contained value (if any), or computes a default. </p>

<pre><code>local mapFunction = function(value) return value .. "test" end)

local value outcome.some("foo")
    :mapOr(function() return "baz" end), mapFunction)
    :unwrap()

assert(value == "foo test")

value outcome.none()
    :mapOr(function() return "baz" end), mapFunction)
    :unwrap()

assert(value == "baz")
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">defaultProvider</span>
            <span class="types"><span class="type">function</span></span>
         Default function to invoke that returns U.
        </li>
        <li><span class="parameter">mapFunction</span>
            <span class="types"><span class="type">function</span></span>
         Function that accepts T and returns U.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Option">Option</a></span>
        Returns <code>Option&lt;U&gt;</code>
    </ol>




</dd>
    <dt>
    <a name = "Option:flatmap"></a>
    <strong>Option:flatmap (f)</strong>
    </dt>
    <dd>

<p>Returns an None option if the option value is not preset.  Otherwise calls
 f with the wrapped value and returns the result.</p>

<pre><code>local value = outcome.some(1)
    :flatmap(function(value) return outcome.some(value + 1) end)
    :unwrap()

assert(value == 2)
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">f</span>
            <span class="types"><span class="type">function</span></span>
         Function that accepts T and returns <code>Option&lt;U&gt;</code>.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Option">Option</a></span>
        Returns <code>Option&lt;U&gt;</code>
    </ol>




</dd>
    <dt>
    <a name = "Option:filter"></a>
    <strong>Option:filter (f)</strong>
    </dt>
    <dd>
    Filters a Some Option through <code>f</code> and if <code>f</code> returns false, creates a
 None Option.  None Option is returned as-is and not passed to <code>f</code>.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">f</span>
            <span class="types"><span class="type">function</span></span>
         Filter function that receives a value and returns bool.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Option">Option</a></span>
        Returns <code>Option&lt;T&gt;</code>
    </ol>




</dd>
    <dt>
    <a name = "Option:okOr"></a>
    <strong>Option:okOr (err)</strong>
    </dt>
    <dd>

<p>Transforms the <code>Option&lt;T&gt;</code> into a <code>Result&lt;T, E&gt;</code>, mapping a Some value to
 an Ok Result, and an None value to Result err. </p>

<pre><code>local res = outcome.some(1):okOr("error data if None")
assert(res:isOk())
assert(res:unwrap() == 1)
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">err</span>
            <span class="types"><span class="type">function</span></span>
         Error to use in the Result if the value is None.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Result">Result</a></span>
        Returns <code>Result&lt;T, E&gt;</code>
    </ol>




</dd>
    <dt>
    <a name = "Option:okOrElse"></a>
    <strong>Option:okOrElse (errorProvider)</strong>
    </dt>
    <dd>

<p>Transforms the <code>Option&lt;T&gt;</code> into a <code>Result&lt;T, E&gt;</code>, mapping a Some value
 to an Ok Result, and an None value to Result err. </p>

<pre><code>local res = outcome.some(1):okOrElse(function()
  return "error data if None"
end)
assert(res:isOk())
assert(res:unwrap() == 1)
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">errorProvider</span>
            <span class="types"><span class="type">function</span></span>
         Function that returns E.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Result">Result</a></span>
        Returns <code>Result&lt;T, E&gt;</code>
    </ol>




</dd>
</dl>
    <h2 class="section-header has-description"><a name="Class_Result"></a>Class Result </h2>

          <div class="section-description">

<p><code>Result&lt;T, E&gt;</code> is a type used for returning and propagating errors. </p>

<p> There are two kinds of Result objects:</p>

<ul>
    <li>Ok: the result contains a successful value.</li>
    <li>Err: The result contains an error value.</li>
</ul>

<p> <strong>Examples</strong></p>

<pre><code>local outcome = require "outcome"
local Result = outcome.Result

-- Results are either Ok or Err.
assert(outcome.ok("ok value"):isOk())
assert(outcome.err("error value"):isErr())

-- You can map over the Ok value in a Result.
local result = outcome.ok(1)
    :map(function(value) return value + 1 end)
    :unwrap()

assert(result == 2)

-- Raises an error with the message provided in expect.
outcome.err("error value"):expect("Result was not Ok"):

-- You can provide a default value when unwrapping a Result.
assert("foo" == outcome.err("error value"):unwrapOr("foo"))
</code></pre>


          </div>
    <dl class="function">
    <dt>
    <a name = "Result:isOk"></a>
    <strong>Result:isOk ()</strong>
    </dt>
    <dd>
    Returns true if the result is Ok.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>



    </ol>




</dd>
    <dt>
    <a name = "Result:isErr"></a>
    <strong>Result:isErr ()</strong>
    </dt>
    <dd>
    Returns true if the result is an error.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>



    </ol>




</dd>
    <dt>
    <a name = "Result:ifOk"></a>
    <strong>Result:ifOk (consumer)</strong>
    </dt>
    <dd>
    Invokes a method with the value if the Result is Ok.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">consumer</span>
            <span class="types"><span class="type">function</span></span>
         Consumer to invoke with a side effect.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Result:ifErr"></a>
    <strong>Result:ifErr (consumer)</strong>
    </dt>
    <dd>
    Invokes a method if the Result is an Err and passes the error to consumer.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">consumer</span>
            <span class="types"><span class="type">function</span></span>
         Method to invoke if the value is error.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Result:unwrap"></a>
    <strong>Result:unwrap ()</strong>
    </dt>
    <dd>
    Returns the value if Ok, or raises an error using the error value.



    <h3>Returns:</h3>
    <ol>

        T the wrapped result value.
    </ol>

    <h3>Raises:</h3>
    Errors with if the result is Err.



</dd>
    <dt>
    <a name = "Result:unwrapErr"></a>
    <strong>Result:unwrapErr ()</strong>
    </dt>
    <dd>
    Unwraps a result, yielding the content of an Err.



    <h3>Returns:</h3>
    <ol>

        E the error value.
    </ol>

    <h3>Raises:</h3>
    Errors if the value is Ok.



</dd>
    <dt>
    <a name = "Result:unwrapOr"></a>
    <strong>Result:unwrapOr (defaultValue)</strong>
    </dt>
    <dd>
    Unwraps and returns the value if Ok, or returns default value.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">defaultValue</span>
         Default value T to return.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        T returns the wrapped value or the default.
    </ol>




</dd>
    <dt>
    <a name = "Result:unwrapOrElse"></a>
    <strong>Result:unwrapOrElse (valueProvider)</strong>
    </dt>
    <dd>
    Unwraps and returns the value if Ok, or returns the result of invoking
 a method that when called returns a value.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">valueProvider</span>
            <span class="types"><span class="type">function</span></span>
         Function to invoke if the value is an error.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        T returns the Ok value or the value returned from valueProvider.
    </ol>




</dd>
    <dt>
    <a name = "Result:expect"></a>
    <strong>Result:expect (message)</strong>
    </dt>
    <dd>
    Unwraps and returns the value if Ok, or errors with a message.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">message</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>
         Message to include in the error.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        T returns the wrapped value.
    </ol>




</dd>
    <dt>
    <a name = "Result:andOther"></a>
    <strong>Result:andOther (other)</strong>
    </dt>
    <dd>
    Returns other if the result is Ok, otherwise returns the Err value of self.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">other</span>
            <span class="types"><a class="type" href="index.html#Result">Result</a></span>
         <code>Result&lt;T, E&gt;</code> other Alternative Result to return.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Result">Result</a></span>
        Returns <code>Result&lt;T, E&gt;</code>
    </ol>




</dd>
    <dt>
    <a name = "Result:orOther"></a>
    <strong>Result:orOther (other)</strong>
    </dt>
    <dd>

<p>Returns other if the result is Err, otherwise returns self. </p>

<pre><code>local value = outcome.err("error!")
    :orOther(outcome.ok(1))
    :unwrap()

assert(value == 1)

value = outcome.ok(1)
    :orOther(outcome.ok(999))
    :unwrap()

assert(value == 1)
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">other</span>
            <span class="types"><a class="type" href="index.html#Result">Result</a></span>
         <code>Result&lt;T, E&gt;</code> other Alternative Result to return.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Result">Result</a></span>
        Returns <code>Result&lt;T, E&gt;</code>
    </ol>




</dd>
    <dt>
    <a name = "Result:orElseOther"></a>
    <strong>Result:orElseOther (resultProvider)</strong>
    </dt>
    <dd>

<p>Calls resultProvider if the result is Err, otherwise returns self. </p>

<p> This function can be used for control flow based on result values.</p>

<pre><code>local value = outcome.err("error!")
    :orElseOther(function(v) return outcome.ok(1) end)
    :unwrap()

assert(value == 1)

value = outcome.ok(1)
    :orElseOther(function(v) return outcome.ok(999) end)
    :unwrap()

assert(value == 1)
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">resultProvider</span>
            <span class="types"><span class="type">function</span></span>
         Function that returns <code>Result&lt;T, E&gt;</code>.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Result">Result</a></span>
        Returns <code>Result&lt;T, E&gt;</code>
    </ol>




</dd>
    <dt>
    <a name = "Result:map"></a>
    <strong>Result:map (f)</strong>
    </dt>
    <dd>

<p>Maps a <code>Result&lt;T, E&gt;</code> to <code>Result&lt;U, E&gt;</code> by applying a function to a
 contained Ok value, leaving an Err value untouched. </p>

<p> This function can be used to compose the results of two functions.</p>

<pre><code>local value = outcome.ok(1)
    :map(function(v) return v + 1 end)
    :unwrap()

assert(value == 2)
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">f</span>
            <span class="types"><span class="type">function</span></span>
         Function that accepts <code>T</code> and returns <code>U</code>.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Result">Result</a></span>
        Returns <code>Result&lt;U, E&gt;</code>
    </ol>




</dd>
    <dt>
    <a name = "Result:mapErr"></a>
    <strong>Result:mapErr (f)</strong>
    </dt>
    <dd>

<p>Maps a <code>Result&lt;T, E&gt;</code> to <code>Result&lt;T, F&gt;</code> by applying a function to a
 contained Err value, leaving an Ok value untouched. </p>

<p> This function can be used to pass through a successful result while handling
 an error.</p>

<pre><code>local value = outcome.err(1)
    :mapErr(function(v) return v + 1 end)
    :unwrapErr()

assert(value == 2)
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">f</span>
            <span class="types"><span class="type">function</span></span>
         Function that accepts <code>E</code> and returns <code>U</code>.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Result">Result</a></span>
        Returns <code>Result&lt;T, F&gt;</code>
    </ol>




</dd>
    <dt>
    <a name = "Result:flatmap"></a>
    <strong>Result:flatmap (f)</strong>
    </dt>
    <dd>

<p>Calls f if the result is Ok, otherwise returns the Err value of self. </p>

<p> This function can be used for control flow based on Result values.</p>

<pre><code>local value = outcome.ok(1)
    :flatmap(function(v) return outcome.ok(v + 1) end)
    :unwrap()

assert(value == 2)
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">f</span>
            <span class="types"><span class="type">function</span></span>
         Function that accepts T and returns <code>Result&lt;T. E&gt;</code>.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Result">Result</a></span>
        Returns <code>Result&lt;T, E&gt;</code>
    </ol>




</dd>
    <dt>
    <a name = "Result:okOption"></a>
    <strong>Result:okOption ()</strong>
    </dt>
    <dd>
    Converts from <code>Result&lt;T, E&gt;</code> to <code>Option&lt;T&gt;</code>.
 Converts self into an <code>Option&lt;T&gt;</code>, consuming self, and discarding the error,
 if any.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Result">Result</a></span>
        Returns <code>Result&lt;T, E&gt;</code>
    </ol>




</dd>
    <dt>
    <a name = "Result:errOption"></a>
    <strong>Result:errOption ()</strong>
    </dt>
    <dd>
    Converts from <code>Result&lt;T, E&gt;</code> to <code>Option&lt;E&gt;</code>.
 Converts self into an <code>Option&lt;E&gt;</code>, consuming self, and discarding the
 success value, if any.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Result">Result</a></span>
        Returns <code>Result&lt;T, E&gt;</code>
    </ol>




</dd>
</dl>
    <h2 class="section-header "><a name="Option_functions"></a>Option functions</h2>

    <dl class="function">
    <dt>
    <a name = "option"></a>
    <strong>option (value)</strong>
    </dt>
    <dd>

<p>Returns either a None or Some Option based on if the value == nil. </p>

<pre><code>local opt = outcome.option(nil)
assert(opt:isNone())

local opt = outcome.option("foo")
assert(opt:isSome())
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">value</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Option">Option</a></span>
        Returns <code>Option&lt;T&gt;</code>
    </ol>




</dd>
    <dt>
    <a name = "some"></a>
    <strong>some (value)</strong>
    </dt>
    <dd>

<p>Create a new Option, wrapping a value.
 If the provided value is nil, then the Option is considered None.</p>

<pre><code>local opt = outcome.some("abc")
assert(opt:isSome())
assert("abc" == opt:unwrap())
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">value</span>
         Value T to wrap.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Option">Option</a></span>
        <code>Option&lt;T&gt;</code>
    </ol>




</dd>
    <dt>
    <a name = "none"></a>
    <strong>none ()</strong>
    </dt>
    <dd>

<p>Returns a None Option. </p>

<pre><code>local opt = outcome.none()
assert(opt:isNone())
</code></pre>





    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Option">Option</a></span>
        Returns <code>Option&lt;T&gt;</code>
    </ol>




</dd>
</dl>
    <h2 class="section-header "><a name="Result_functions"></a>Result functions</h2>

    <dl class="function">
    <dt>
    <a name = "ok"></a>
    <strong>ok (value)</strong>
    </dt>
    <dd>

<p>Create a new Ok Result. </p>

<pre><code>local res = outcome.ok("foo")
assert(res:isOk())
assert(res:unwrap() == "foo")
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">value</span>
            <span class="types"><span class="type">T</span></span>
         Ok value to wrap.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Result">Result</a></span>
        Returns <code>Result&lt;T, E&gt;</code>
    </ol>




</dd>
    <dt>
    <a name = "err"></a>
    <strong>err (value)</strong>
    </dt>
    <dd>

<p>Create a new Err Result. </p>

<pre><code>local res = outcome.err("error message")
assert(res:isErr())
assert(res:unwrapErr() == "message")

-- Err values can be of any type.
local resWithComplexErr = outcome.err({foo = true})
assert(resWithComplexErr:isErr())
assert(resWithComplexErr:unwrapErr().foo == true)
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">value</span>
            <span class="types"><span class="type">T</span></span>
         Error value to wrap.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Result">Result</a></span>
        Returns <code>Result&lt;T, E&gt;</code>
    </ol>




</dd>
    <dt>
    <a name = "pcall"></a>
    <strong>pcall (f, Arguments)</strong>
    </dt>
    <dd>

<p>Invokes a function and returns a <code>Result&lt;T, E&gt;</code>.
 If the function errors, an Err Result is returned.</p>

<pre><code>local res = Result.pcall(error, "oh no!")
assert(res:isErr())
assert(res:unwrapErr() == "oh no!")
</code></pre>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">f</span>
            <span class="types"><span class="type">function</span></span>
         Function to invoke that returns T or raises E.
        </li>
        <li><span class="parameter">Arguments</span>
            <span class="types"><span class="type">...</span></span>
         to pass to the function.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Result">Result</a></span>
        Returns <code>Result&lt;T, E&gt;</code>
    </ol>




</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2017-01-15 19:39:44 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
